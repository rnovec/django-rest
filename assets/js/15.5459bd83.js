(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{733:function(a,e,r){"use strict";r.r(e);var s=r(70),t=Object(s.a)({},(function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h1",{attrs:{id:"despligue-de-una-api-en-entorno-productivo"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#despligue-de-una-api-en-entorno-productivo"}},[a._v("#")]),a._v(" Despligue de una API en entorno productivo")]),a._v(" "),r("h2",{attrs:{id:"ssh"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ssh"}},[a._v("#")]),a._v(" SSH")]),a._v(" "),r("h3",{attrs:{id:"conectarse-por-ssh-con-la-llave-pem"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#conectarse-por-ssh-con-la-llave-pem"}},[a._v("#")]),a._v(" Conectarse por SSH con la llave pem")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[a._v("ssh -i SERVER_KEY.pem USER@SERVER_IP\n")])])]),r("h3",{attrs:{id:"generar-claves-ssh-para-clonar-repositorios-de-manera-segura"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#generar-claves-ssh-para-clonar-repositorios-de-manera-segura"}},[a._v("#")]),a._v(" Generar claves SSH para clonar repositorios de manera segura")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[a._v("ssh-keygen -t rsa\ncat ~/.ssh/id_rsa.pub\n")])])]),r("h2",{attrs:{id:"pasos-iniciales"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#pasos-iniciales"}},[a._v("#")]),a._v(" Pasos iniciales")]),a._v(" "),r("h3",{attrs:{id:"clonar-el-codigo-en-la-instancia"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#clonar-el-codigo-en-la-instancia"}},[a._v("#")]),a._v(" Clonar el codigo en la instancia")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[a._v("git clone REPO URL\n")])])]),r("h3",{attrs:{id:"actualizar-paquetes"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#actualizar-paquetes"}},[a._v("#")]),a._v(" Actualizar paquetes")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[a._v("sudo su\napt-get update\n")])])]),r("h2",{attrs:{id:"instalar-herramientas"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#instalar-herramientas"}},[a._v("#")]),a._v(" Instalar herramientas")]),a._v(" "),r("h3",{attrs:{id:"python-3-8-version-requerida-por-el-proyecto"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#python-3-8-version-requerida-por-el-proyecto"}},[a._v("#")]),a._v(" Python 3.8 (Versi√≥n requerida por el proyecto)")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[a._v("sudo add-apt-repository ppa:deadsnakes/ppa\nsudo apt update\nsudo apt install python3.8 --yes\nsudo update-alternatives --install /usr/bin/python python /usr/bin/python3.8 10\npython --version\n")])])]),r("h3",{attrs:{id:"pip3-python-installer-packages"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#pip3-python-installer-packages"}},[a._v("#")]),a._v(" PIP3 (Python Installer Packages)")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[a._v("sudo apt install python3-pip\nwget https://bootstrap.pypa.io/get-pip.py\npython get-pip.py\nsudo rm -r get-pip.py\npip --version\n")])])]),r("h2",{attrs:{id:"preparar-el-proyecto"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#preparar-el-proyecto"}},[a._v("#")]),a._v(" Preparar el proyecto")]),a._v(" "),r("h3",{attrs:{id:"entorno-virtual-y-dependencias"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#entorno-virtual-y-dependencias"}},[a._v("#")]),a._v(" Entorno virtual y dependencias")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[a._v("pip  install virtualenv\nvirtualenv env\nsource venv/bin/activate\nsource .env-example\npython -m pip install --upgrade pip\nsudo apt install libcairo2-dev libpangocairo-1.0-0 --yes\npip install -r requirements.txt\n")])])]),r("h3",{attrs:{id:"crear-estaticos-y-correr-servidor"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#crear-estaticos-y-correr-servidor"}},[a._v("#")]),a._v(" Crear estaticos y correr servidor")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[a._v("python manage.py collectstatic --no-input\npython manage.py runserver 0.0.0.0:8000\n")])])]),r("h2",{attrs:{id:"despliegue-final"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#despliegue-final"}},[a._v("#")]),a._v(" Despliegue final")]),a._v(" "),r("h3",{attrs:{id:"crear-screen-para-el-proyecto-y-ejecutar-en-produccion"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#crear-screen-para-el-proyecto-y-ejecutar-en-produccion"}},[a._v("#")]),a._v(" Crear SCREEN para el proyecto y ejecutar en produccion")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[a._v("screen -S api-django\nsource venv/bin/activate\nsource .env-example\nexec venv/bin/gunicorn --access-logfile - --workers 3 --bind 0.0.0.0:8000 config.wsgi:application\n\nCtrl A+D # exit screen without killing\nscreen -ls\nscreen -r SCREEN_ID\nCtrl C # kill screen\n")])])]),r("h3",{attrs:{id:"migrar-la-base-de-datos"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#migrar-la-base-de-datos"}},[a._v("#")]),a._v(" Migrar la base de datos")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[a._v("python manage.py migrate\n")])])]),r("h3",{attrs:{id:"crear-super-usuario-opcional"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#crear-super-usuario-opcional"}},[a._v("#")]),a._v(" Crear super usuario (OPCIONAL)")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[a._v("python manage.py createsuperuser\n")])])]),r("h3",{attrs:{id:"abrir-proyecto-en-el-navegador"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#abrir-proyecto-en-el-navegador"}},[a._v("#")]),a._v(" Abrir proyecto en el navegador")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[a._v("http://IP_SERVER:8000/api/v1/\n")])])]),r("h3",{attrs:{id:"what-s-next"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#what-s-next"}},[a._v("#")]),a._v(" What's next?")]),a._v(" "),r("ul",[r("li",[a._v("Nginx")]),a._v(" "),r("li",[a._v("Base de datos")]),a._v(" "),r("li",[a._v("Workers")])])])}),[],!1,null,null,null);e.default=t.exports}}]);